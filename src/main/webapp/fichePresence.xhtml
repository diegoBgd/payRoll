<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/masterPage.xhtml"
		xmlns="http://www.w3.org/1999/xhtml"
      	xmlns:ui="http://java.sun.com/jsf/facelets"
      	xmlns:f="http://java.sun.com/jsf/core"
      	xmlns:h="http://java.sun.com/jsf/html"
      	xmlns:p="http://primefaces.org/ui">
      	
      <ui:define name="content">      
      		<h:form id="frm" onkeypress="if (event.keyCode == 13) { return false; }">
				<p:growl id="msgs" showDetail="true" autoUpdate="true"/>
				<f:metadata>
				<f:event listener="#{authenticite.parametrage()}" type="preRenderView"/>
				</f:metadata>
			
				<div class="ui-g">
					<div class="ui-g-12 ui-md-12 ui-lg-6 ui-fluid contact-form">
						<div class="card">
							<div class="ui-g">
								<div class="ui-g-12 ui-md-12">
									<p:outputLabel value="Employé"/>
									<p:selectOneMenu id="txtEmploye" value="#{fichePresenceB.idEmploye}" valueChangeListener="#{fichePresenceB.changeEmploye}" 
										autoWidth="false">								
										<f:selectItems value="#{fichePresenceB.listEmploye}" />
										<p:ajax event="itemSelect" update=":frm"/>
									</p:selectOneMenu>
								</div>
								
								<div class="ui-g-12 ui-md-12">
									<p:outputLabel value="Type d'heures prestées"/>
									<p:selectOneMenu id="slctRelatio" value="#{fichePresenceB.idTypeHeurePreste}" autoWidth="false">
										<f:selectItem itemLabel=" " itemValue="0" />
										<f:selectItem itemLabel="Heures normales" itemValue="1" />
										<f:selectItem itemLabel="Heures supplémentaires" itemValue="2" />
										<p:ajax event="change"  update="slctRelatio" />							
									</p:selectOneMenu>																					
								</div>
								
								<div class="ui-g-12 ui-md-12">
									<p:outputLabel value="Date Pointage" />
									<p:inputMask id="txtDateP" value="#{fichePresenceB.datePointageS}" mask="99/99/9999" >
										<p:ajax event="blur" listener="#{fichePresenceB.changeDatePointage()}" update=":frm" />	
									</p:inputMask>										
								</div>
								
								<div class="ui-g-12 ui-md-12">
									<p:outputLabel value="Heure Entrée" />
									<p:inputMask id="txtDateE" value="#{fichePresenceB.heureEntreee}" mask="99:99:99" >										
										<p:ajax event="blur" listener="#{fichePresenceB.changeHeureEntree()}" update="txtDateE" />	
									</p:inputMask>										
								</div>
								
								<div class="ui-g-12 ui-md-12">
									<p:outputLabel value="Heure Sortie" />
									<p:inputMask id="txtDateS" value="#{fichePresenceB.heureSortie}" mask="99:99:99" >										
										<p:ajax event="blur" listener="#{fichePresenceB.changeHeureSortie()}" update="txtDateS" />	
									</p:inputMask>										
								</div>							
								
							</div>
							
							
						</div>
					</div>
				</div>
				
				<div class="ui-g">
					<div class="ui-g-12 ui-md-12 ui-lg-6 ui-fluid contact-form">
						<div class="card">
							<div class="ui-g">
								<div class="ui-g-4 ui-md-4">
									<p:commandButton icon="fa fa-save" value="Enregistrer" action="#{fichePresenceB.enregistrer()}" update=":frm" />
								</div>
								
								<div class="ui-g-4 ui-md-4">
									<p:commandButton icon="fa fa-trash-o" value="Supprimer" onclick="if (!confirm('Voullez-vous vraiment Supprimer?')) return false" 
										action="#{fichePresenceB.supprimer()}" update=":frm" styleClass="orange-btn"/>
								</div>
								
								<div class="ui-g-4 ui-md-4">
									<p:commandButton icon="fa fa-refresh" value="Initialiser" action="#{fichePresenceB.initialiser()}" update=":frm" />
								</div>
							</div>					
						</div>
					</div>
				</div>
				
			</h:form>
      
      </ui:define>
      
</ui:composition>
